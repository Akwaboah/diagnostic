<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8">
    <title>{{bus_info.Bus_Name}}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">

    <!-- Favicons -->
    <link href="{% static 'web-assets/assets/img/favicon.ico' %}" rel="icon">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'web-assets/assets/css/bootstrap.min.css' %}">

    <!-- Bootstrap DatePicker Css -->
    <link href="{% static 'admin/assets/plugins/bootstrap-datepicker/css/bootstrap-datepicker.css' %}" rel="stylesheet" />

    <!-- Sweet Alert  Animation Css -->
    <link href="{% static 'admin/assets/plugins/animate-css/animate.css' %}" rel="stylesheet" />

    <!-- Sweet Alert Css -->
    <link href="{% static 'admin/assets/plugins/sweetalert/sweetalert.css' %}" rel="stylesheet" />

    <!-- Fontawesome CSS -->
    <link rel="stylesheet" href="{% static 'web-assets/assets/plugins/fontawesome/css/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'web-assets/assets/plugins/fontawesome/css/all.min.css' %}">

    <!-- extends child css into this block tag -->
    {% block extra-css %}
    {% endblock extra-css %}

    <!-- Main CSS -->
    <link rel="stylesheet" href="{% static 'web-assets/assets/css/style.css' %}">
    
    <!-- Jquery -->
    <script src="{% static 'admin/assets/plugins/jquery/jquery-1.11.1.min.js' %}"></script>
    


    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
			<script src="assets/js/html5shiv.min.js"></script>
			<script src="assets/js/respond.min.js"></script>
		<![endif]-->
    <!-- <style>
        /* Make the image fully responsive */
        .carousel-inner img {
            width: 100%;
            height: 100%;
        }
    </style> -->
    <script>
        var timer = 0;
        var PERIOD_VISIBLE =120000;
        var PERIOD_NOT_VISIBLE = 60000;
     
        function onLoad() {
            timer = setInterval(checkBirthDays, (document.hidden) ? PERIOD_NOT_VISIBLE : PERIOD_VISIBLE);
            if(document.addEventListener) document.addEventListener("visibilitychange", visibilityChanged);
        }
     
        function visibilityChanged() {
            clearTimeout(timer);
            timer = setInterval(checkBirthDays, (document.hidden) ? PERIOD_NOT_VISIBLE : PERIOD_VISIBLE);
        }
     
        function checkBirthDays() { 
            // Check server for today's birthdays
            $.ajax({
                type: "POST",
                url: "{% url 'opd' 'birthdays' %}",
                data: {
                    csrfmiddlewaretoken: '{{ csrf_token }}',
                    dataType: "json"
                },
                success: function (data) {
                    // window.parent.showNotification(null, data['message'], 'top', 'right', 'animated zoomInRight', 'animated zoomOutRight');
                    // swal.close();
                },
                error: function (request,status,error) {
                    // swal(`Error Occurred: ${request.responseText}, please try again :)`, "error");
                }
            });
        }
     
    </script>
</head>

<body {% if send_hbd == 'Yes' %} onload="onLoad();" {% endif %}>

    <!-- Header -->
    <header class="header">
        <!-- Include the nav -->
        {% include 'I_CARE/admin/main-nav-staff.html' %}
    </header>
    <!-- /Header -->

    <!-- Breadcrumb -->
    <div class="breadcrumb-bar">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-md-12 col-12">
                    <nav aria-label="breadcrumb" class="page-breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="#">{{bus_info.Bus_Name_Abbr}}</a></li>
                            <li class="breadcrumb-item active" aria-current="page">{{page}}</li>
                        </ol>
                    </nav>
                    <h2 class="breadcrumb-title">{{page}}</h2>
                </div>
            </div>
        </div>
    </div>
    <!-- /Breadcrumb -->

    <!-- Main Wrapper -->
    <div class="main-wrapper">
        <!-- Page Content -->
        <div class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-5 col-lg-4 col-xl-3 theiaStickySidebar">
                        <div class="profile-sidebar">
                            <div class="widget-profile pro-widget-content">
                                <div class="profile-info-widget">
                                    <a href="#" class="booking-doc-img">
                                        {% if user_info.Profile.url %}
                                        <img src="{{user_info.Profile.url}}" alt="User Image">
                                        {% else %}
                                        <img src="{% static 'admin/assets/img/profiles/avatar.png' %}" alt="User Image">
                                        {% endif %}
                                    </a>
                                    <div class="profile-det-info">
                                        <h3>{{request.user.first_name}} {{request.user.last_name}}</h3>
                                        <div class="patient-details">
                                            <h5 class="mb-0">{{user_info.Level}}</h5>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="dashboard-widget">
                                <!--dashboard-menu -->
                                {% block dashboard-menu %}
                                {% endblock dashboard-menu %}
                                <!-- /dashboard-menu -->
                            </div>
                        </div>
                    </div>
                    <div class="col-md-7 col-lg-8 col-xl-9">
                        <!-- page content -->
                        {% block content %}
                        {% endblock content %}
                        <!-- /page content -->
                    </div>
                </div>
            </div>
        </div>
        <!-- /Page Content -->

        <!-- Footer -->
        {% comment %} {% include 'I_CARE/web/footer.html' %} {% endcomment %}
        <!-- /Footer -->

    </div>
    <!-- /Main Wrapper -->

    <!-- Add New User -->
    <div class="modal fade" id="add_new_user" aria-hidden="true" role="dialog">
        <div class="modal-dialog modal-dialog-centered modal-md" role="document">
            <div class="modal-content">
                <div class="modal-header bg-red">
                    <h4 class="modal-title" id="defaultModalLabel">ADD NEW USER</h4>
                </div>
                <div class="modal-body">
                    <form id="sign_upForm"> 
                        <div class="row form-group">
                            <div class="col-lg-5">
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="material-icons">people</i>
                                    </span>
                                    <div class="form-line">
                                        <input autocomplete="off" type="text" class="form-control" id="Username" name="Username" placeholder="Username"
                                            required>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-7">
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="material-icons">person</i>
                                    </span>
                                    <div class="form-line">
                                        <input type="text" class="form-control" id="Fullname" name="Fullname" placeholder="Fullname / First & Last Name"
                                            autocomplete="off" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-lg-6">
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="material-icons">view_list</i>
                                    </span>
                                    <div class="form-line">
                                        <select required id="Gender" name="Gender" class="form-control form-control-md">
                                            <option value="">Gender</option>
                                            <option>Male</option>
                                            <option>Female</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="material-icons">phone</i>
                                    </span>
                                    <div class="form-line">
                                        <input type="text" class="form-control" id="Phone" name="Phone" placeholder="Mobile Number"
                                            autocomplete="off" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-lg-12">
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="material-icons">email</i>
                                    </span>
                                    <div class="form-line">
                                        <input type="email" autocomplete="off" class="form-control" id="Email" name="Email"
                                            placeholder="Email Address" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-lg-6">
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="material-icons">lock</i>
                                    </span>
                                    <div class="form-line">
                                        <input type="password" class="form-control" id="Password1" name="Password1" minlength="6"
                                        onchange="onPassWordChange();" autocomplete="off" placeholder="Password" required>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="material-icons">lock</i>
                                    </span>
                                    <div class="form-line">
                                        <input type="password" class="form-control" id="Password2" name="Password2" minlength="6"
                                        onchange="onPassWordChange();" autocomplete="off" placeholder="Confirm Password" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="input-group form-group">
                            <span class="input-group-addon">
                                <i class="material-icons">view_list</i>
                            </span>
                            <div class="form-line">
                                <select required id="User_Level" name="User_Level" class="form-control form-control-md">
                                    <option value="">User Level</option>
                                    {% for level in groups_level %}
                                    <option>{{level}}</option>
                                    {% endfor %} 
                                </select>
                            </div>
                        </div>
                        <div class="form-group ">
                            <input type="checkbox" name="terms" id="terms" class="filled-in chk-col-pink">
                            <label for="terms">I read and agree to the <a href="javascript:void(0);">terms of
                                    usage</a>.</label>
                        </div> 
                        <button class="btn btn-block btn-sm btn-primary" type="submit">SAVE USER</button>
                    </form>
                </div>
                <!-- <div class="modal-footer bg-danger">
                    <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">CLOSE</button>
                </div> -->
            </div>
        </div>
    </div>
    <!-- /Add New User Modal -->

    <!-- Add Insurance Modal -->
    <div class="modal fade" id="modal_add_insurance" aria-hidden="true" role="dialog">
        <div class="modal-dialog modal-dialog-centered" role="document" >
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add Insurance</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="add_insurance_form">
                        <div class="row form-row">
                            <div class="col-12 col-sm-12">
                                <div class="form-group">
                                    <label>Insurance Name</label>
                                    <input id="insurance_name" placeholder="eg. NHIS" required type="text" class="form-control">
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Add Insurance</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- /ADD Modal -->

    <!-- Patient Payment Modal -->
    <div class="modal fade" id="paymentModal" aria-hidden="true" role="dialog">
        <div class="modal-dialog modal-xl" role="document" >
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Payment Form</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-xl-12">
                            <!-- <h4 class="card-title">Personal Details</h4> -->
                            <div class="form-group">
                                <div class="change-avatar justify-content-center">
                                    <div class="row">
                                        <div class="col-xl-8">
                                            <div class="row">
                                                <div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3">
                                                    <div class="profile-img">
                                                        <img id="JProfile" src="{% static 'admin/assets/img/profiles/avatar.png' %}" alt="User Image">
                                                    </div>
                                                </div>
                                                <div class="col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9">
                                                    <label>Name/ID:<b id="JName">_ _ _ _ _ _ _ _ _ _ _</b> <br>
                                                        Gender/Age:<b id="JGender">_ _ _ _ _ _ _ _ _ _ _</b> <br>
                                                        Nationality/Residence:<b id="JAddress">_ _ _ _ _ _ _ _ _ _ _</b> <br>
                                                        Tel/Emerg. No.:<b id="JContact">_ _ _ _ _ _ _ _ _ _ _</b><br>
                                                        Occupation/Insurance:<b id="Insurance">_ _ _ _ _ _ _ _ _ _ _</b><br>
                                                        Account Balance:<b id="JBalance"> 0.00 GHS</b>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xl-4">
                                            <form id="journalPaymentForm">
                                                <div class="row form-row">
                                                    <div class="col-12 col-sm-5 mb-1">
                                                        <input required id="journalAmount" min="0.01" placeholder="Amount" onkeyup="validatePay();" onchange="validatePay();" autocomplete="off" type="number" step="any" class="form-control form-control-sm">
                                                    </div>
                                                    <div class="col-12 col-sm-7 mb-1">
                                                        <select required id="journalMode" class="form-control form-control-sm">
                                                            <option value="">Payment Type</option>
                                                            <option >CASH</option>
                                                            <option >MOMO</option>
                                                            <option>CHEQUE</option>
                                                            <option>BANK DIRECT</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="row form-row">
                                                    <div class="col-12 col-sm-12 mb-1">
                                                        <input id="journalComment" placeholder="Comment" autocomplete="off" type="text"  class="form-control form-control-sm">
                                                    </div>
                                                </div>
                                                <button type="submit" class="btn btn-primary btn-block">Confirm Payment</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    
                        <div class="table-responsive p-2">
                            <table id="journalTable" class="table table-bordered table-hover table-center mb-0">
                                <thead>
                                    <tr>
                                        <th>No.</th>
                                        <th>Date</th>
                                        <th>Procedure</th>
                                        <th>Charge</th>
                                        <th>Paid</th>
                                        <th>Balance</th>
                                        <th>Issued By</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /ADD Modal -->

    <!--SMS alert Model -->
    <div class="modal fade" id="modal-alert" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <form id="smsForm">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">SEND CUSTOM MESSAGES</h4>
                    </div>
                    <div class="modal-body">
                        <div class="input-group form-group">
                            <textarea id="custom_msg" name="custom_msg" style="height: 150px;" class="form-control"
                            required placeholder="Message Body"></textarea>
                        </div>
                        <div class="input-group">
                            <span class="input-group-addon">
                                <i class="material-icons">people</i>
                            </span>
                            <div class="form-line">
                                <input type="tel" class="form-control" id="custom_tel"
                                    placeholder="custom receivers eg. 024xxxxxxx,050xxxxxxx, etc" autofocus>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="col">
                            <div class="row">
                                <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                    <select required id="forward_to" class="form-control">
                                        <option value="">Forward To ?</option>
                                        <option value="Staffs">Staff</option>
                                        <option value="All Patients">Patients</option>
                                        <option value="Custom Receiver">Custom Receiver's</option>
                                        <optgroup label="Societies/Group">
                                            {% for val in group_society %}
                                            <option value="{{val.id}}">{{val.Name}}</option>
                                            {% endfor %}
                                        </optgroup>
                                    </select>
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                    <button class="btn btn-md btn-primary" type="submit">SEND ALERT</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Department Model -->
    <div class="modal fade" id="modal-department" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-md" role="document">
            <div class="modal-content">
                <div class="modal-header bg-primary">
                    <h4 class="modal-title text-white">Add More Department</h4>
                </div>
                <div class="modal-body">
                    <form id="department_form" method="POST" style="background-color: rgb(121, 120, 120);padding: 5px;">
                        <div class="row clearfix">
                            <div class="col-lg-8 col-md-8 col-sm-8 col-8">
                                <input autocomplete="off" required id="new_Department" type="text"
                                    class="form-control form-control-sm" placeholder="Enter Department, eg, syrup, tablet, suspension, etc">
                            </div>
                            <div class="col-lg-4 col-md-4 col-sm-4 col-4">
                                <button type="submit" class="btn btn-primary btn-block">SAVE ENTRY</button>
                            </div>
                        </div>
                    </form>
                    <table id="departmentTable" class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>DEPARTMENTS</th>
                                <th>DATE</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for val in departmentList %}
                            <tr>
                                <td>{{val.Name}}</td>
                                <td>{{val.Date}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                <!-- <div class="modal-footer">
                    <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">CLOSE</button>
                </div> -->
            </div>
        </div>
    </div>

    <!-- Supplier Modal-->
    <div class="modal fade" id="modal-supplier" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-md" role="document">
            <div class="modal-content">
                <div class="modal-header bg-primary">
                    <h4 class="modal-title text-white" id="modal-add-bill">Add Supplier</h4>
                </div>
                <div class="modal-body">
                    <form id="supplier_form" method="POST" style="background-color: rgb(121, 120, 120);padding: 5px;">
                        <div class="row clearfix">
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <div class="form-group form-line">
                                    <input autocomplete="off" required id="supComapny_Name" type="text"
                                        class="form-control form-control-sm" placeholder="Company Name">
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <div class="form-group form-line">
                                    <input autocomplete="off" required id="supContact" type="text"
                                        class="form-control form-control-sm" placeholder="Contact">
                                </div>
                            </div>
                        </div>
                        <div class="row clearfix">
                            <div class="col-lg-8 col-md-8 col-sm-8 col-8">
                                <div class="form-group form-line">
                                    <input autocomplete="off" required id="supAddress" type="text"
                                        class="form-control form-control-sm" placeholder="Address">
                                </div>
                            </div>

                            <div class="col-lg-4 col-md-4 col-sm-4 col-4">
                                <button type="submit" class="btn btn-primary btn-block">SAVE ENTRY</button>
                            </div>
                        </div>
                    </form>
                    <table id="supplierTable" class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>Company Name</th>
                                <th>Contact</th>
                                <th>Address</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for val in supplierList %}
                            <tr>
                                <td>{{val.Company_Name}}</td>
                                <td>{{val.Contact}}</td>
                                <td>{{val.Address}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                <!-- <div class="modal-footer">
                    <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">CLOSE</button>
                </div> -->
            </div>
        </div>
    </div>

    <!-- Sales & Stocks Report -->
    <div class="modal fade" id="modal-inventory-rep" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="defaultModalLabel">GENERAL REPORTING(PHARMACY)</h4>
                </div>
                <div class="modal-body">
                    <div class="col-lg-12 m-b-10">
                        <label class="font-weight-bolder"><u>SALES REPORT</u></label>
                        <form action="{% url 'pharm' 'sales-report' %}" target="_blank" method="get">
                            <div class="row">
                                <div class="col-lg-7 m-b-10">
                                    <div class="input-daterange input-group " id="inventory_sales_container">
                                        <div class="form-line">
                                            <input type="text" name="Date_From" class="form-control form-control-sm"
                                            required  placeholder="Date start..." autocomplete="off">
                                        </div>
                                        <span class="input-group-addon">to</span>
                                        <div class="form-line">
                                            <input type="text" name="Date_To" class="form-control form-control-sm"
                                            required placeholder="Date end..." autocomplete="off">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-5">
                                    <div class="form-group-md form-line">
                                        <select required name="sales_type" class="form-control">
                                            <option selected value="">Sales Type</option>
                                            <option value="Daily Sales">Daily Sales</option>
                                            <option value="Creditors Sales">Creditor's Sales</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <br>
                            <button class="btn btn-block btn-sm bg-primary waves-effect" type="submit">PREVIEW REPORT</button>
                        </form>
                        <br>
                    </div>
                    <div class="col-lg-12 m-b-10">
                        <label class="font-weight-bolder"><u>STOCKS REPORT</u></label>
                        <div class="row clearfix ">
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <form action="{% url 'pharm' 'available-stocks' %}" target="_blank" method="get">
                                    {% csrf_token %}
                                    <button class="btn btn-block btn-sm bg-success waves-effect" type="submit">AVAILABLE STOCKS</button>
                                </form>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <form action="{% url 'pharm' 'low-stocks' %}" target="_blank" method="get">
                                    {% csrf_token %}
                                    <button class="btn btn-block btn-sm bg-warning waves-effect" type="submit">LOW/OUT STOCKS</button>
                                </form>
                            </div>
                        </div>
                        <br>
                    </div>
                    <div class="col-lg-12 m-b-10">
                        <label class="font-weight-bolder"><u>PURCHASED HISTORY</u></label>
                        <form action="{% url 'pharm' 'purchased-stocks' %}" target="_blank" method="get">
                            <div class="input-daterange input-group " id="inventory_container">
                                <div class="form-line">
                                    <input type="text" name="Date_From" class="form-control form-control-sm"
                                    required  placeholder="Date start..." autocomplete="off">
                                </div>
                                <span class="input-group-addon">to</span>
                                <div class="form-line">
                                    <input type="text" name="Date_To" class="form-control form-control-sm"
                                    required placeholder="Date end..." autocomplete="off">
                                </div>
                            </div>
                            <br>
                            <button class="btn btn-block btn-sm bg-primary waves-effect" type="submit">PREVIEW REPORT</button>
                        </form>
                        <br>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery -->
    <script src="{% static 'web-assets/assets/js/jquery.min.js' %}"></script>

    <!-- Bootstrap Datepicker Plugin Js -->
    <script src="{% static 'admin/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js' %}"></script>
    <!-- Date Plugin Js -->
    <script src="{% static 'admin/assets/plugins/bootstrap-datepicker/js/custom-date.js' %}"></script>

    <!-- Bootstrap Core JS -->
    <script src="{% static 'web-assets/assets/js/popper.min.js' %}"></script>
    <script src="{% static 'web-assets/assets/js/bootstrap.min.js' %}"></script>

    <!-- Bootstrap Notify Plugin Js -->
    <script src="{% static 'admin/assets/plugins/bootstrap-notify/bootstrap-notify.js' %}"></script>

    <!-- Sweet Alert Plugin Js -->
    <script src="{% static 'admin/assets/plugins/sweetalert/sweetalert.min.js' %}"></script>
    
    <!-- Slick JS -->
    <script src="{% static 'web-assets/assets/js/slick.js' %}"></script>

    <!-- Custom JS -->
    <script src="{% static 'web-assets/assets/js/script.js' %}"></script>

    <!-- Sweet Notification Trigger-->
    <script src="{% static 'admin/assets/plugins/sweetalert/notifications.js' %}"></script>

    <!-- Apex Chart -->
    <script src="{% static 'admin/assets/plugins/apexchart/apexcharts.min.js' %}"></script>

    <!-- personal scripts -->
    <script>

        
        $("#modal_add_insurance").on('submit',function (e) {
            e.preventDefault()
            $.ajax({
                type: "POST",
                url: "{% url 'web-links' 'add-insurance' %}",
                data: {
                    Name: $('#insurance_name').val(),
                    csrfmiddlewaretoken: '{{ csrf_token }}',
                    dataType: "json",
                },
                beforeSend: function () {
                    // show progress whiles request in pregess to avoid many submission
                    swal({
                        title: "Performing Request... ",
                        text: "please wait whiles we proccess your request",
                        imageUrl: "{% static 'admin/assets/img/loading.gif' %}",
                        showConfirmButton: false
                    });
                },
                success: function (data) {
                    $("#id_Insurance_Type").load(window.location.href + " #id_Insurance_Type>*", "");
                    swal.close();
                    window.parent.showNotification(null, data.message, 'top', 'right', 'animated zoomInRight', 'animated zoomOutRight');
                },
                error: function (data) {
                window.parent.showNotification(null, "Error occurred whiles processing request", 'top', 'right', 'animated zoomInRight', 'animated zoomOutRight');
                swal.close();
            }

            });
        });

        $("#sign_upForm").on('submit',function (e) {
            e.preventDefault()
            $.ajax({
                type: "POST",
                url: "{% url 'auth-staff' 'add-user' %}",
                data: {
                    Username : $('#Username').val(),
                    Fullname : $('#Fullname').val(),
                    Phone : $('#Phone').val(),
                    Email : $('#Email').val(),
                    Gender : $('#Gender').val(),
                    Password : $('#Password2').val(),
                    User_Level : $('#User_Level').val(),
                    csrfmiddlewaretoken : '{{ csrf_token }}',
                    dataType : "json",
                },
                beforeSend: function () {
                    // show progress whiles request in pregess to avoid many submission
                    swal({
                        title: "Performing Request... ",
                        text: "please wait whiles we proccess your request",
                        imageUrl: "{% static 'admin/assets/img/loading.gif' %}",
                        showConfirmButton: false
                    });
                },
                success: function (data) {
                    swal.close();
                    window.parent.showNotification(null, data.message, 'top', 'right', 'animated zoomInRight', 'animated zoomOutRight');
                },
                error: function (data) {
                    window.parent.showNotification(null, "Error occurred whiles processing request", 'top', 'right', 'animated zoomInRight', 'animated zoomOutRight');
                    swal.close();
                }
            });
        });

        function onPassWordChange() {
            const password = document.getElementById('Password1');
            const confirm = document.getElementById('Password2');
            if (confirm.value === password.value) {
                confirm.setCustomValidity('');
            } else {
                confirm.setCustomValidity('Passwords do not match');
            }
        }

        function ReadMessageData(data_type,name,msg) {
            swal({
                title: `${data_type}: ${name}`,
                // text: msg,
                text: `<textarea class='form-control' rows='5' cols='5' id='text'>${msg}</textarea>`,
                // --------------^-- define html element with id
                html: true,
                inputPlaceholder: `${data_type} content`,
                // imageUrl: '',
                allowOutsideClick: true,
                showCancelButton: false,
                showConfirmButton: false,
                confirmButtonColor: "#6B5",
                confirmButtonText: `Done`,
                cancelButtonText: `No`,
                closeOnConfirm: true,
                closeOnCancel: true
            }, function (isConfirm) {
                if (isConfirm) {
                    // 
                }
            });

        }       
 
        $('#smsForm').on('submit', function (e) {
            e.preventDefault();
            $.ajax({
                type: "POST",
                url: "{% url 'alerts' 'send' %}",
                data: {
                    custom_msg: $("#custom_msg").val(),
                    custom_tel: $("#custom_tel").val(),
                    forward_to: $("#forward_to").val(),
                    csrfmiddlewaretoken: '{{ csrf_token }}',
                    dataType: "json",
                },
                beforeSend: function () {
                    // show progress whiles request in pregess to avoid many submission
                    swal({
                        title: "Delivering Alert",
                        text: "please wait whiles we proccess your request",
                        imageUrl: "{% static 'admin/assets/img/loading.gif' %}",
                        showConfirmButton: false
                    });
                },
                success: function (data) {
                    window.parent.showNotification(null, data.message, 'top', 'right', 'animated zoomInRight', 'animated zoomOutRight');
                    swal.close();
                },
                error: function (data) {
                    window.parent.showNotification(null, "Error occurred whiles processing payment", 'top', 'right', 'animated zoomInRight', 'animated zoomOutRight');
                    swal.close();
                }
            });

        });
        
    </script>

   
    <!-- extends child js into this block tag -->
    {% block extra-js %}
    {% endblock extra-js %}

    <!-- Messages Handler -->
    {% for message in messages %} {% if message.tags == "info" %}
    <script>
        var text = '{{ message}}'
        //Parameters= colorName, text, placementFrom, placementAlign, animateEnter, animateExit
        window.parent.showNotification(null, text, 'top', 'left', 'animated bounceIn', 'animated bounceOut');
    </script>
    {% elif message.tags == "success" %}
    <script>
        var text = '{{ message}}'
        //Parameters= colorName, text, placementFrom, placementAlign, animateEnter, animateExit
        window.parent.showNotification(null, text, 'top', 'right', 'animated zoomInRight', 'animated zoomOutRight');
    </script>
    {% endif %} {% endfor %}

</body>

</html>